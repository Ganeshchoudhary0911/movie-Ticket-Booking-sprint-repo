<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${movie.movieName} + ' | Show Timings'">Show Timings</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <style>
        body {
            background-color: #f8f9fa;
        }

        /* Header */
        .movie-header {
            background: #fff;
            border-bottom: 2px solid #dee2e6;
            padding: 25px 0;
        }

        /* Theatre Card */
        .theatre-card {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            border-left: 6px solid #dc3545;
            box-shadow: 0 4px 10px rgba(0,0,0,0.06);
            transition: 0.2s ease-in-out;
        }

        .theatre-card:hover {
            transform: translateY(-4px);
        }

        /* Show Button */
        .show-btn {
            font-size: 0.9rem;
            padding: 8px 18px;
            border-radius: 10px;
            font-weight: 500;
            transition: 0.2s;
        }

        .show-btn:hover {
            background-color: #198754;
            color: white !important;
            border-color: #198754;
        }

        /* Tiny poster/icon next to movie title */
        .movie-poster-icon {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.12);
            margin-right: 10px;
        }
    </style>
</head>

<body>

<!-- MOVIE HEADER -->
<div class="movie-header">
    <div class="container">
        <div class="d-flex align-items-center mb-1">
            <img class="movie-poster-icon"
                 th:src="${movie.posterUrl} ?: @{/images/placeholder-poster.png}"
                 alt="Poster" />
            <h2 class="fw-bold mb-0" th:text="${movie.movieName}">Movie Name</h2>
        </div>

        <div class="text-muted mt-2">
            <span class="badge bg-light text-dark border"
                  th:text="${movie.language}">Language</span>
            <span class="ms-2" th:text="${movie.duration} + ' mins'">120 mins</span>
        </div>
    </div>
</div>

<!-- MAIN CONTENT -->
<div class="container mt-4">

    <!-- EMPTY STATE -->
    <div th:if="${#maps.isEmpty(groupedShows)}"
         class="text-center bg-white p-5 rounded shadow-sm">
        <h5 class="text-muted">No shows available.</h5>
    </div>

    <!-- THEATRE LIST -->
    <div th:each="entry : ${groupedShows}" class="theatre-card mb-4">
        <div class="row">
            <!-- Theatre Info -->
            <div class="col-md-4 mb-3 mb-md-0">
                <h5 class="fw-bold" th:text="${entry.value[0].theatreName}">
                    Theatre Name
                </h5>
                <div class="mt-2 small text-muted">
                    <span class="text-success">● M‑Ticket</span>
                    <span class="ms-2 text-warning">● Food &amp; Beverage</span>
                </div>
            </div>

            <!-- Show Timings -->
            <div class="col-md-8">
                <div class="d-flex flex-wrap gap-2">
                    <a th:each="show : ${entry.value}"
                       th:href="@{/seats/{id}(id=${show.showId})}"
                       th:text="${show.showTime}"
                       class="btn btn-outline-success show-btn">
                        10:30 AM
                    </a>
                </div>
                <div class="mt-2 small text-muted">Non‑cancellable</div>
            </div>
        </div>
    </div>

</div>

</body>
</html>