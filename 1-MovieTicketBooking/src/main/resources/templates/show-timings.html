<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${movie.movieName} + ' | Show Timings'">Show Timings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- MOVIE HEADER -->
<div class="bg-white border-bottom py-4 mb-4">
    <div class="container">
        <h1 class="fw-bold mb-1" th:text="${movie.movieName}">Movie Name</h1>
        <div class="text-secondary small">
            <span class="badge border text-secondary fw-normal" th:text="${movie.language}">Language</span>
            <span class="ms-2" th:text="${movie.duration} + ' mins'">120 mins</span>
        </div>
    </div>
</div>


<!-- THEATRES & SHOWS -->
<div class="container">

    <!-- EMPTY STATE -->
    <div th:if="${#maps.isEmpty(groupedShows)}"
         class="bg-white rounded-3 p-5 text-center shadow-sm">
        <h5 class="text-muted">No shows available.</h5>
    </div>

    <!-- THEATRE CARDS -->
    <div th:each="entry : ${groupedShows}"
         class="bg-white rounded-3 p-4 mb-3 shadow-sm border-start border-4 border-danger">

        <div class="row align-items-center">

            <!-- Theatre Info -->
            <div class="col-md-4 mb-3 mb-md-0">
                <div class="d-flex align-items-center">
                    <span class="text-danger me-2">❤️</span>

                    <!-- ⭐ FIX: use theatreName from ShowDto -->
                    <h5 class="fw-bold mb-0"
                        th:text="${entry.value[0].theatreName}">
                        Theatre Name
                    </h5>

                </div>
                <div class="text-muted mt-1" style="font-size: 0.8rem;">
                    <span class="text-success">● M‑Ticket</span>
                    <span class="ms-2 text-warning">● Food & Beverage</span>
                </div>
            </div>

            <!-- Show Timings -->
            <div class="col-md-8">
                <div class="d-flex flex-wrap gap-2">
                    
                    <a th:each="show : ${entry.value}"
                       th:href="@{/seats/{id}(id=${show.showId})}"
                       th:text="${show.showTime}"
                       class="btn btn-outline-success px-4 py-2 fw-medium"
                       style="font-size: 0.9rem;">
                        10:30 AM
                    </a>
                </div>

                <div class="mt-2 small text-muted">
                    <span class="text-secondary">Non‑cancellable</span>
                </div>
            </div>

        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net"></script>
</body>
</html>